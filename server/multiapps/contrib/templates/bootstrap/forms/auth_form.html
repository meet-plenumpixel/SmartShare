{% load widget_tweaks %}

{% if errors %}

  {{ errors }}
  {% if not fields %}
    {% for field in hidden_fields %}{{ field }}{% endfor %}
  {% endif %}
  
{% endif %}



{% for field, errors in fields %}
  <!-- {{ field.label }} field -->
  <div class="form-outline mb-4{% with classes=field.css_classes %}{% if classes %} {{ classes }}{% endif %}{% endwith %}">
    <div class="invalid-feedback">
      {{ errors }}
    </div>

    <!-- <label class="form-label" for="{{ field.id_for_label}}">{{ field.label }}</label> -->
    {% if field.label %}
      {{ field|add_label_class:"form-label" }}
    {% endif %}

    {{ field|add_class:"form-control form-control-lg" }}

    <!-- <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div> -->

      {% if field.help_text %}
        
          {{ field.help_text|safe }}

      {% endif %}


    {% if forloop.last %}
      {% for field in hidden_fields %}{{ field }}{% endfor %}
    {% endif %}
  </div>


  {% comment %} <li{% with classes=field.css_classes %}{% if classes %} class="{{ classes }}"{% endif %}{% endwith %}>
    {{ errors }}
    {% if field.label %}{{ field.label_tag }}{% endif %}
    {{ field }}
    {% if field.help_text %}
      <span class="helptext">{{ field.help_text|safe }}</span>
    {% endif %}
    {% if forloop.last %}
      {% for field in hidden_fields %}{{ field }}{% endfor %}
    {% endif %}
  </li> {% endcomment %}
{% endfor %}


{% if not fields and not errors %}
  {% for field in hidden_fields %}{{ field }}{% endfor %}
{% endif %}